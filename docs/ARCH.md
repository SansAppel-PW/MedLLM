# 架构说明（Draft）

## 总体架构
1. 数据治理层：NER/EL -> 三元组映射 -> KG 一致性校验 -> 清洗数据集产出。
2. 幻觉检测层：白盒不确定性检测 + 黑盒检索核查 -> 风险融合。
3. 对齐训练层：SFT 基座 + DPO/SimPO 偏好对齐。
4. 服务与展示层：推理服务 + 风险提示 + 证据可追溯展示。

## 模块边界
- `src/data`: 数据处理与 KG 相关逻辑。
- `src/detect`: 风险检测、核查、融合策略。
- `src/train`: SFT 与偏好对齐训练流程。
- `src/serve`: 在线推理与安全防护接口。

## 关键输入输出
- 输入：医疗问答语料、知识图谱、用户查询。
- 输出：清洗数据、对齐后模型、幻觉风险分级结果、评测报告。
