
===== [SLIDE 001] =====
[S001H001] 答辩人：胡佩文
[S001H002] 导师：祁琦
[S001H003] 基于数据清洗与偏好对齐的医疗问答大模型的幻觉检测与缓解技术研究
[S001H004] 中国人民大学2024级智慧治理学院

===== [SLIDE 002] =====
[S002H001] 选题背景与意义
[S002H002] 技术路线与方案
[S002H003] 研究现状
[S002H004] 研究目标与内容
[S002H005] 难点与创新点

===== [SLIDE 003] =====
[S003H001] Part1
[S003H002] 选题背景与意义

===== [SLIDE 004] =====
[S004H001] 研究背景与现实痛点

===== [SLIDE 005] =====
[S005H001] [定义核心] 模型生成的知识与客观真实的医学世界不符。 错误类型：编造虚假实体、属性/关系错误
[S005H002] 揭示医疗领域大模型知识边界与事实对齐规律
[S005H003] [定义核心] 模型生成的内容与当前提供的上下文或检索到的证据不一致。 错误类型：篡改检索证据（RAG场景）、逻辑/约束冲突。
[S005H004] 理论价值总结
[S005H005] 研究背景与研究意义
[S005H006] “请推荐几种治疗晚期‘幻影综合症’（虚构病名）的特效药” “布洛芬（Ibuprofen）的血浆半衰期是多少？”
[S005H007] “您可以尝试使用**‘诺瓦西林’（Novacillin）**，这是一种针对该病症的靶向药物。” “布洛芬的半衰期大约是24小时，建议每天服用一次。”
[S005H008] 构建“AI医生”安全防火墙，规避医疗法律风险。
[S005H009] 实践价值总结
[S005H010] 检索到的证据（Reference）：“根据2024年指南，药物A在严重肾功能不全患者中绝对禁用。” 用户提供的病历上下文：“患者，男，45岁，有青霉素严重过敏史。”
[S005H011] “根据最新指南，药物A对于肾功能不全的患者疗效显著，但建议减量使用。” “诊断为细菌性肺炎，建议首选**阿莫西林（Amoxicillin）**进行抗感染治疗。”
[S005H012] 问题：不存在“诺瓦西林”这种药，也不存在“幻影综合症”| 事实上布洛芬的半衰期约为1.8-2小时
[S005H013] 问题：违背绝对禁用的指令 | 阿莫西林属于青霉素类药物

===== [SLIDE 006] =====
[S006H001] Part2
[S006H002] 研究现状

===== [SLIDE 007] =====
[S007H001] 研究现状与不足

===== [SLIDE 008] =====
[S008H001] Part3
[S008H002] 研究目标与内容

===== [SLIDE 009] =====
[S009H001] 研究目标

===== [SLIDE 010] =====
[S010H001] 基于KG的数据清洗流水线
[S010H002] [流程步骤] 1.NER提取： 识别Disease，Drug，Symptom等实体 2.三元组映射： 将文本转化为<Head, Relation, Tail>结构 3.图谱对比： 检测三元组<text>和三元组<KG>的逻辑冲突
[S010H003] 混合架构（Hybrid Framework）
[S010H004] 原文：“阿司匹林可用于治疗血友病关节痛”
[S010H005] KG知识：<阿司匹林, 禁忌症, 血友病>
[S010H006] 判定：冲突->剔除

===== [SLIDE 011] =====
[S011H001] 不确定性与RAG混合检测
[S011H002] 1.白盒（White-box）： 计算Token概率分布的熵值（Entropy）与自一致性（Self-Consistency） 2.黑盒（Black-box）： 基于FactScore的原子事实验证 优势： 低成本过滤大部分的简单幻觉；高精度拦截小部分的隐蔽幻觉
[S011H003] 实体一致性校验算法（Entity Consistency Checking）

===== [SLIDE 012] =====
[S012H001] 不确定性与RAG混合检测
[S012H002] 1.DPO原理： 无需Reward Model，直接优化策略P_θ以最大化偏好数据(x, y_w, y_l)的似然差 2.创新点： 随机负样本（Random Negatives）：易区分，梯度信号弱 对抗负样本（Hard Negatives）：基于KG替换关键实体（如：更改剂量、替换禁忌药） 构造策略： y_w (Good): 正确的诊疗建议。 y_l(Bad): y_w + Entity Substitution (via CMeKG)。
[S012H003] 对抗性DPO偏好对齐

===== [SLIDE 013] =====
[S013H001] Part4
[S013H002] 技术路线与方案

===== [SLIDE 014] =====
[S014H001] 总体技术架构图
[S014H002] Clean Data(纯净数据)

===== [SLIDE 015] =====
[S015H001] 实验设计与验证方案
[S015H002] 1.数据集&基座模型
[S015H003] 2.对比试验&消融实验设计
[S015H004] 3.多维评价指标
[S015H005] [基础数据资源] 知识图谱：CMeKG（中国医学知识图谱），用于实体抽取与逻辑校验 。 问答语料：MedQA（中文医疗问答数据集），作为 SFT 的基础指令数据。 [自建偏好数据集] 构建包含 (x, y_good, y_bad) 的医疗偏好数据对。 特色：y_bad不采用随机负样本，而是通过对抗性实体替换生成的困难负样本（Hard Negatives），以增强模型对细微错误的识别能力 模型 Qwen-32B/235B Llama-3-8B
[S015H006] 事实性指标 (Factuality - 核心)： FactScore：将生成内容拆解为原子事实，计算事实准确率 。 Win Rate (LLM-as-a-Judge)：利用 GPT/Gemini 对抗性评测本模型与 Baseline 的回答优劣 。 安全性指标 (Safety)： 幻觉拦截率 (Interception Rate)：检测模块成功拦截错误回答的比例。 逻辑一致性：基于知识图谱的三元组矛盾检测通过率 。 通用指标 (Utility)： BLEU-4 / Rouge-L：评估生成文本的流畅度与语义覆盖度 。
[S015H007] [对比实验组设置] Baseline（Zero-shot；SFT-Only；Standard DPO） Adversarial DPO：使用对抗性负样本进行DPO训练的模型 [消融实验设计] 实验一：验证“KG 数据清洗”的有效性 设置：[移除 KG 校验] vs [保留 KG 校验]。 目的：证明源头数据治理能显著减少“Garbage In”导致的事实错误 。 实验二：验证“混合检测机制”的互补性 设置：[仅不确定性检测] vs [仅 RAG 验证] vs [混合检测]。 目的：证明“白盒+黑盒”双重机制能平衡召回率与准确率

===== [SLIDE 016] =====
[S016H001] Part5
[S016H002] 难点与创新点

===== [SLIDE 017] =====
[S017H001] 核心问题：医疗领域的幻觉往往不是语法错误，而是语义上的细微偏差（如数值漂移、实体混淆）。传统的基于文本重合度的评估指标（如BLEU、ROUGE）对此类错误完全脱敏，无法有效识别。 技术难点：如何突破单一检测手段的局限，建立对细粒度医学知识错误（Fine-grained Errors）极其敏感的检测机制，同时避免对专业医学术语的误判 。。
[S017H002] 难题一：高隐蔽性幻觉识别
[S017H003] 核心问题： DPO（直接偏好优化）算法的效果高度依赖于偏好数据的质量。简单的随机负样本（Random Negatives）太容易被区分，无法提供足够的梯度信息，导致模型学不到真正的知识边界 。 技术难点： 如何设计算法，自动化地生成语义通顺、逻辑连贯，但包含特定医学逻辑谬误（如因果倒置、禁忌症替换）的“困难负样本”（Hard Negatives），以有效驱动模型学习 。
[S017H004] 难点二：高质量“对抗性负样本”的自动化构建
[S017H005] 核心问题： 在多轮医患对话或长病历生成任务中，模型容易出现前后矛盾或遗忘前文约束的现象 。 技术难点： 如何在长上下文窗口（Long Context）下保持知识调用的稳定性，确保生成的结论与患者既往史（如过敏史、既往病史）保持严格的逻辑一致 。
[S017H006] 难题三：复杂推理场景下的事实一致性保持
[S017H007] 拟解决的关键难题与技术挑战

===== [SLIDE 018] =====
[S018H001] 特色与创新
[S018H002] 策略描述： 不同于传统仅依靠关键词过滤或正则规则的数据清洗方法，本研究采用基于KG的实体一致性校验算法 。 核心优势： 通过将非结构化文本映射为结构化三元组并与CMeKG图谱比对，能够识别出深层的医学逻辑冲突（如违反隐性禁忌症），从而从源头解决“Garbage In, Garbage Out”问题，大幅提升数据纯净度 。
[S018H003] 知识图谱 (KG) 的深层逻辑校验机制
[S018H004] 策略描述： 创新性地整合了白盒检测（基于熵值/不确定性估算）与黑盒验证（基于RAG检索增强的NLI判断） 。 核心优势： 优势互补：既克服了单一模型往往“过度自信”导致漏检的缺陷，又兼顾了系统在实际落地中的时效性（白盒快）与安全性（黑盒准），构建了多维度的安全围栏 。
[S018H005] “不确定性 + RAG”的双重混合检测防线
[S018H006] 策略描述： 在模型对齐阶段，摒弃通用的随机采样策略，专门设计了医疗领域的**“对抗性实体替换” (Adversarial Entity Replacement)** 方法 。 核心优势： 通过针对性地修改关键医学实体（如将“用法用量”微调为错误数值）来构造负样本，迫使模型在DPO训练中必须“学会”区分细微的医学事实差异，从而更本质地抑制事实性幻觉的生成，这是在通用模型对齐中较少涉及的垂直领域创新 。
[S018H007] 基于“对抗性实体替换”的DPO负样本构造策略

===== [SLIDE 019] =====
[S019H001] Part6
[S019H002] 工作安排和预期成果

===== [SLIDE 020] =====
[S020H001] 工作安排和预期成果

===== [SLIDE 021] =====
[S021H001] 导师：祁琦
[S021H002] 答辩人：胡佩文
[S021H003] 演示完毕 感谢聆听！
[S021H004] 中国人民大学2024级
