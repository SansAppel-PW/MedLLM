inherits: configs/base_real.yaml

run:
  task: real_sft_layer_b
  entrypoint: src/train/real_sft_train.py
  kv_args:
    model-name: Qwen/Qwen2.5-7B-Instruct
    train-file: data/clean/real_sft_train.jsonl
    dev-file: data/clean/real_sft_dev.jsonl
    output-dir: checkpoints/layer_b/qwen25_7b_sft
    logging-dir: logs/layer_b/qwen25_7b_sft
    metrics-out: reports/training/layer_b_qwen25_7b_sft_metrics.json
    max-length: 2048
    num-train-epochs: 1
    max-steps: -1
    learning-rate: 2.0e-5
    weight-decay: 0.01
    warmup-ratio: 0.03
    per-device-train-batch-size: 1
    per-device-eval-batch-size: 1
    gradient-accumulation-steps: 16
    gradient-checkpointing: true
    logging-steps: 10
    save-steps: 100
    eval-steps: 100
    seed: 42
    use-lora: true
    lora-r: 64
    lora-alpha: 128
    lora-dropout: 0.05
    lora-target-modules: q_proj,k_proj,v_proj,o_proj,gate_proj,up_proj,down_proj
    load-in-4bit: true
    bf16: false
    fp16: true
