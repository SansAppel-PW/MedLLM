inherits: configs/base.yaml

run:
  task: simpo
  entrypoint: src/train/simpo_train.py
  output_dir: checkpoints/simpo-qwen2.5-7b

training:
  per_device_train_batch_size: 1
  gradient_accumulation_steps: 16
  learning_rate: 1.0e-6
  num_train_epochs: 1
  warmup_ratio: 0.03
  max_prompt_length: 1024
  max_length: 2048
  save_steps: 200
  logging_steps: 20
  gamma_beta_ratio: 0.3
  target_margin: 0.5

preference:
  strategy: adversarial_entity_replacement
  source_file: data/clean/pref_seed_pairs.jsonl
  required_fields:
    - prompt
    - chosen
    - rejected

